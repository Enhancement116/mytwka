<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Taiwan CNY Trip 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', 'Noto Serif TC', sans-serif; -webkit-tap-highlight-color: transparent; }
        .font-serif-tc { font-family: 'Noto Serif TC', serif; }
        
        .pattern-bg {
            background-color: #7f1d1d;
            background-image: radial-gradient(#991b1b 1px, transparent 1px), radial-gradient(#991b1b 1px, transparent 1px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
        }

        /* æ»¾å‹•æ¢ç¾åŒ– */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #7f1d1d; }
        ::-webkit-scrollbar-thumb { background: #fca5a5; border-radius: 10px; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out forwards; }
    </style>
</head>
<body class="bg-red-950 text-white min-h-screen flex flex-col pattern-bg">

    <div id="app" class="flex-1 flex flex-col">
        </div>

    <script>
        const tripData = {
            title: "å°ç£æ–°æ˜¥ä¹‹æ—… 2026",
            days: [
                { dayNumber: 1, theme: "æŠµé” & è¥¿é–€ç”º", highlights: "æ­¡è¿ä¾†åˆ°å°ç£ï¼ç¬¬ä¸€å¤©è¼•é¬†ç‚ºä¸»ã€‚", activities: [
                    { time: "14:00", title: "æŠµé”æ¡ƒåœ’æ©Ÿå ´", description: "è³¼è²·æ‚ éŠå¡èˆ‡SIMå¡ã€‚", location: "æ¡ƒåœ’æ©Ÿå ´", icon: "âœˆï¸" },
                    { time: "18:00", title: "æ¢ç´¢è¥¿é–€ç”º", description: "é«”é©—å°ç£å¹´è¼•äººçš„æ´»åŠ›ã€‚", location: "è¥¿é–€ç”º", icon: "ğŸ›ï¸" }
                ]},
                { dayNumber: 2, theme: "è€å°åŒ—å¹´å‘³", highlights: "æ„Ÿå—è¿ªåŒ–è¡—çš„ç†±é¬§å¹´è²¨å¤§è¡—ã€‚", activities: [
                    { time: "11:30", title: "åˆé¤ï¼šé¼æ³°è±", description: "å“åšä¸–ç•Œèåçš„å°ç± åŒ…ã€‚", location: "ä¿¡ç¾©è·¯/å—è¥¿åº—", icon: "ğŸ¥Ÿ" },
                    { time: "14:00", title: "è¿ªåŒ–è¡—å¹´è²¨å¤§è¡—", description: "æ„Ÿå—æœ€æ¿ƒåšçš„å¹´å‘³ã€‚", location: "å¤§ç¨»åŸ•", icon: "ğŸ§§" }
                ]},
                { dayNumber: 3, theme: "ä¹ä»½æ”¾å¤©ç‡ˆ", highlights: "å‰å¾€å±±åŸä¹ä»½ï¼Œå¹³æºªæ”¾å¤©ç‡ˆç¥ˆç¦ã€‚", activities: [
                    { time: "11:30", title: "ä¹ä»½è€è¡—èŒ¶æ¨“", description: "é˜¿å¦¹èŒ¶æ¨“å“èŒ¶æ¬£è³ç¾æ™¯ã€‚", location: "ä¹ä»½", icon: "ğŸµ" },
                    { time: "17:30", title: "å¹³æºªæ”¾å¤©ç‡ˆ", description: "å¯«ä¸‹æ–°å¹´é¡˜æœ›ã€‚Huat Ah!", location: "å¹³æºª", icon: " Lantern" }
                ]}
            ]
        };

        const fortunes = [
            { title: "Huat Ah!", desc: "ä»Šå¹´é‹å‹¢æ—ºåˆ°å¤ åŠ›ï¼æ—…è¡Œé †é †åˆ©åˆ©ï¼" },
            { title: "Ong Mali!", desc: "æ‰‹æ°£å¥½éäººï¼å»å¤œå¸‚ç©éŠæˆ²ä¸€å®šè´ï¼" },
            { title: "Sui La!", desc: "å¿ƒæƒ…ç¾ç¾ï¼Œæ‹ç…§ Post ä¸Šç¶²ä¸€å®šå¾ˆå¤š Likeï¼" },
            { title: "Boleh!", desc: "æƒ³è²·å°±è²·ï¼æ¸›è‚¥æ˜¯å›é¦¬ä¹‹å¾Œçš„äº‹ï¼" }
        ];

        const state = { view: 'home', dayIndex: 0, packetOpenedIndex: null, currentFortune: null };

        const Header = () => `
            <header class="bg-red-900 border-b-2 border-yellow-500 sticky top-0 z-50 shadow-md">
                <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                    <div class="flex items-center gap-2 cursor-pointer" onclick="app.navigate('home')">
                        <div class="w-8 h-8 rounded-full border-2 border-yellow-400 flex items-center justify-center text-sm bg-red-800 text-yellow-400">ç¦</div>
                        <h1 class="text-lg md:text-2xl font-bold text-yellow-100 font-serif-tc tracking-tighter">${tripData.title}</h1>
                    </div>
                    <nav class="flex gap-4 md:gap-8 font-bold text-yellow-100/90 text-sm md:text-lg">
                        <button onclick="app.navigate('itinerary')" class="${state.view === 'itinerary' ? 'text-yellow-400 border-b-2 border-yellow-400' : ''}">ğŸ“… è¡Œç¨‹</button>
                        <button onclick="app.navigate('preparation')" class="${state.view === 'preparation' ? 'text-yellow-400 border-b-2 border-yellow-400' : ''}">ğŸ’¡ è²¼å£«</button>
                    </nav>
                </div>
            </header>
        `;

        const Hero = () => {
            const packets = [0, 1, 2].map(index => {
                const isOpened = state.packetOpenedIndex !== null;
                const isCurrent = state.packetOpenedIndex === index;
                let classes = "relative w-24 h-36 md:w-40 md:h-56 bg-red-700 rounded-2xl shadow-xl transition-all duration-300 flex flex-col items-center justify-center overflow-hidden ";
                if (isOpened && !isCurrent) classes += "grayscale opacity-50 cursor-not-allowed ";
                else if (!isOpened) classes += "hover:-translate-y-2 active:scale-95 cursor-pointer ";

                return `
                <button onclick="app.openPacket(${index})" ${isOpened ? 'disabled' : ''} class="${classes}">
                    <div class="absolute inset-0 bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center border-2 border-yellow-600/30">
                         <div class="w-12 h-12 md:w-20 md:h-20 rounded-full border-4 border-yellow-400 flex items-center justify-center bg-red-700 shadow-inner">
                            <span class="text-2xl md:text-5xl text-yellow-400 font-serif-tc font-bold">ç¦</span>
                         </div>
                    </div>
                </button>`;
            }).join('');

            return `
                <div class="p-4 md:p-8 text-center">
                    <div class="max-w-4xl mx-auto backdrop-blur-sm bg-black/20 p-6 md:p-10 rounded-3xl border border-yellow-500/20 mb-6">
                        <h2 class="text-3xl md:text-5xl font-bold text-yellow-400 font-serif-tc mb-4">æ­¡è¿çˆ¸åª½ä¾†å°ç£ï¼</h2>
                        <p class="text-lg md:text-2xl text-white mb-6 font-bold">åƒå¥½ä½å¥½ï¼ŒHuat Ah! ğŸ§§</p>
                        <button onclick="app.navigate('itinerary')" class="bg-yellow-500 text-red-900 text-lg md:text-2xl font-bold py-3 px-8 rounded-full shadow-lg">æŸ¥çœ‹è©³ç´°è¡Œç¨‹</button>
                    </div>

                    <div class="max-w-xl mx-auto bg-white/95 rounded-[2rem] p-6 shadow-2xl overflow-hidden text-red-900">
                        <h3 class="text-xl md:text-3xl font-bold mb-4 font-serif-tc flex items-center justify-center gap-2">
                            <span>ğŸ®</span> æ¯æ—¥å¥½é‹ç´…åŒ…
                        </h3>
                        <div class="flex justify-center gap-3 md:gap-6 mb-6">
                            ${packets}
                        </div>
                        ${state.currentFortune ? `
                            <div class="animate-fadeIn bg-yellow-50 border-2 border-dashed border-red-500 rounded-2xl p-4 mt-2">
                                <div class="text-2xl md:text-3xl font-bold text-red-700 mb-1">${state.currentFortune.title}</div>
                                <p class="text-base md:text-xl font-bold text-slate-700 leading-tight">${state.currentFortune.desc}</p>
                                <button onclick="app.resetPacket()" class="text-sm font-bold text-red-500 mt-2 underline">å†æŠ½ä¸€æ¬¡</button>
                            </div>
                        ` : '<p class="text-sm text-slate-500 font-bold">é»é¸ä¸€å€‹ç´…åŒ…ï¼Œçœ‹çœ‹ä»Šæ—¥é‹å‹¢ï¼</p>'}
                    </div>
                </div>
            `;
        };

        const DayView = () => {
            const day = tripData.days[state.dayIndex];
            const tabs = tripData.days.map((d, idx) => `
                <button onclick="app.selectDay(${idx})" class="flex-shrink-0 px-6 py-2 rounded-xl text-base md:text-xl font-bold transition-all ${state.dayIndex === idx ? 'bg-yellow-500 text-red-900' : 'bg-red-900 text-yellow-100'}">
                    Day ${d.dayNumber}
                </button>
            `).join('');

            return `
                <div class="p-4 md:p-6 max-w-4xl mx-auto w-full">
                    <div class="flex gap-3 overflow-x-auto pb-4 mb-4 scrollbar-hide">${tabs}</div>
                    <div class="bg-white rounded-2xl shadow-2xl overflow-hidden text-slate-800">
                        <div class="bg-red-800 p-4 md:p-6 text-white border-b-4 border-yellow-500">
                            <span class="text-xs md:text-sm bg-yellow-500 text-red-900 px-2 py-0.5 rounded font-bold">DAY ${day.dayNumber}</span>
                            <h3 class="text-xl md:text-3xl font-bold font-serif-tc mt-1">${day.theme}</h3>
                        </div>
                        <div class="p-4 md:p-6">
                            <p class="bg-yellow-50 p-3 rounded-lg border-l-4 border-yellow-500 text-sm md:text-lg mb-6 font-medium italic">"${day.highlights}"</p>
                            <div class="space-y-6 relative">
                                <div class="absolute left-3 top-0 bottom-0 w-0.5 bg-red-100"></div>
                                ${day.activities.map(act => `
                                    <div class="relative pl-10">
                                        <div class="absolute left-0 w-7 h-7 bg-white border-2 border-red-500 rounded-full flex items-center justify-center text-sm z-10">${act.icon}</div>
                                        <div class="text-xs font-bold text-red-600">${act.time} Â· ${act.location}</div>
                                        <div class="text-base md:text-xl font-bold text-red-900">${act.title}</div>
                                        <div class="text-sm md:text-base text-slate-500 leading-snug">${act.description}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        };

        const Preparation = () => `
            <div class="p-4 md:p-8 max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-white p-5 rounded-2xl flex items-center gap-4 shadow-lg">
                    <span class="text-4xl">ğŸ§¥</span>
                    <div><h4 class="font-bold text-red-900">å¤©æ°£ç©¿è‘—</h4><p class="text-sm text-slate-600">å°åŒ—ç´„15-20åº¦ï¼Œè«‹å¸¶å¤–å¥—èˆ‡å¥½èµ°çš„é‹ã€‚</p></div>
                </div>
                <div class="bg-white p-5 rounded-2xl flex items-center gap-4 shadow-lg">
                    <span class="text-4xl">ğŸ’³</span>
                    <div><h4 class="font-bold text-red-900">æ‚ éŠå¡</h4><p class="text-sm text-slate-600">æ­è»Šã€è¶…å•†è²·æ±è¥¿å¿…å‚™ï¼Œæ©Ÿå ´å¯è²·ã€‚</p></div>
                </div>
                <div class="bg-white p-5 rounded-2xl flex items-center gap-4 shadow-lg text-center col-span-full">
                    <p class="w-full text-yellow-200 font-bold">ğŸ’¡ è²¼å¿ƒæé†’ï¼šå°ç£æ²»å®‰å¾ˆå¥½ï¼Œè«‹æ”¾å¿ƒéŠç©ï¼</p>
                </div>
            </div>
        `;

        function render() {
            const appDiv = document.getElementById('app');
            let content = state.view === 'home' ? Hero() : (state.view === 'itinerary' ? DayView() : Preparation());
            appDiv.innerHTML = `${Header()}<main class="flex-1">${content}</main>`;
        }

        window.app = {
            navigate: (view) => { state.view = view; render(); },
            selectDay: (idx) => { state.dayIndex = idx; render(); },
            openPacket: (idx) => {
                state.packetOpenedIndex = idx;
                state.currentFortune = fortunes[Math.floor(Math.random()*fortunes.length)];
                render();
            },
            resetPacket: () => { state.packetOpenedIndex = null; state.currentFortune = null; render(); }
        };

        render();
    </script>
</body>
</html>
